# Features

ClickLens provides a comprehensive suite of tools designed to make ClickHouse management efficient, secure, and insightful.

## Comparison

| Feature           | ClickLens                   | caioricciuti/ch-ui       | HouseOps                |
| :---------------- | :-------------------------- | :----------------------- | :---------------------- |
| **Tech Stack**    | Next.js 15, Bun             | Vue.js, Node.js          | Electron, React         |
| **Type**          | Web Application             | Web Application          | Desktop App             |
| **Primary Focus** | Modern Dev Experience       | Admin & General Querying | Ops & Health Monitoring |
| **Auth Model**    | Session-based (Server-side) | Browser Local Storage    | Direct Connection       |
| **Query History** | Yes (Server Persisted)      | Yes (Local Storage)      | Yes (Local)             |
| **Deployment**    | Docker / Vercel             | Docker / NPM             | Desktop Install         |

## SQL Console

The SQL Console is the heart of ClickLens, built for both power users and newcomers.

- **Smart Autocompletion**: Context-aware suggestions for databases, tables, and columns. It understands your current query context to provide relevant completions.
- **Formatted Visualization**: Results are displayed in a rich, interactive grid with support for sorting, filtering, and data type formatting.
- **Multiple Tabs**: Work on multiple queries simultaneously.
- **Query History**: Automatically saves your execution history for quick access to past queries.
- **Export**: easy export of results to CSV or JSON.

## Role-Based Access Control (RBAC)

ClickLens implements a **Strict RBAC** model that seamlessly integrates with ClickHouse's native permission system. We follow the [ChistaData Best Practices for RBAC](https://chistadata.com/best-practices-for-clickhouses-role-based-access-control/) to ensure security and compliance.

### Permission Proxy Model

Unlike many UIs that run as a "superuser" and hide features via obscurity, ClickLens acts as a **transparent proxy** for the logged-in user.

1.  **User Identity**: Every query executed in the console or by background monitoring tools runs with the **exact credentials and permissions** of the logged-in user.
2.  **No Privilege Escalation**: If a user cannot run `SELECT * FROM system.settings` in the CLI, they cannot see the Settings page in ClickLens.
3.  **Strict UI Adaptation**: The interface dynamically adapts based on granular capabilities:
    - **Table Explorer**: Visible only if the user has the `clicklens_table_explorer` role or global access. Mere `SELECT` permission on a single database does not grant browsing rights for the entire cluster.
    - **Settings**: Visible only to users with the `clicklens_settings_admin` role.
    - **Monitoring**: Metrics and logs are secured behind specific roles (`clicklens_cluster_monitor`, `clicklens_query_monitor`).

### Introspection Logic

To provide a smooth user experience without requiring every user to have introspection permissions (like reading `system.grants`), ClickLens uses a specialized service account (if configured) to safely query metadata _about_ the user, while ensuring the user can only _act_ within their own boundaries.

## Monitoring & Observability

Gain deep insights into your cluster's performance with real-time dashboards.

- **Cluster Overview**: Real-time metrics on CPU, Memory, and active connections.
- **Query Monitoring**: View currently running queries, kill runaway processes, and analyze query performance history.
- **Server Logs**: A searchable viewer for `system.text_log`, allowing you to debug issues without SSH access.
- **Crash Logs**: Dedicated viewer for `system.crash_log` to diagnose server stability issues.
- **Disc Usage**: Visualize storage distribution across databases and tables.

## Database Explorer

Navigate your data hierarchy with ease while respecting strict permission boundaries.

- **Schema Viewer**: Inspect table structures, column types, and engine configs.
- **Data Preview**: Quickly sample data without writing queries.
- **Smart Search**: Filter tables and databases instantly.

## User Management

A GUI for ClickHouse's native user and role management.

- **User Administration**: Create, update, and remove users.
- **Role Assignment**: Graphically assign roles and privileges.
- **Profile Management**: Configure settings profiles and quotas.
